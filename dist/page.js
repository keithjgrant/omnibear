(function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=38)})({22:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearItem=h,e.removeHighlight=d,e.focusClickedEntry=function(t){h();var e=void 0;e="twitter.com"===document.location.hostname?function(t){var e=(0,n.getAncestorNodeByClass)(t,"tweet");if(!e)return!1;var r="https://twitter.com"+e.getAttribute("data-permalink-path");return{element:e,url:r}}(t.target):"www.facebook.com"===document.location.hostname?function(t){var e=(0,n.getAncestorNode)(t,function(t){return t.id.startsWith("hyperfeed_story_id_")});if(!e)return!1;var r=e.getElementsByClassName("timestampContent");if(r&&r[0]){for(r=r[0];"A"!=r.tagName&&"BODY"!=r.tagName;)r=r.parentElement;var i=r.href;if(i)return{element:e,url:i}}return!1}(t.target):function t(e){var r=(0,n.getAncestorNodeByClass)(e,"h-entry");if(!r)return!1;var i=s.default.get({node:r});var o=void 0;i.items.length&&i.items[0].properties&&i.items[0].properties.url&&(o=i.items[0].properties.url[0]);if(!o)return"BODY"!==r.tagName&&t(r.parentElement,"h-entry");if("string"!=typeof o)return!1;return{element:r,url:o}}(t.target);if(!e)return;chrome.runtime.sendMessage({action:"select-entry",payload:{url:e.url}}),e.element.classList.add(a),l=e.element,u=e.url},e.getCurrentItemUrl=function(){return u};var i,o=r(40),s=(i=o)&&i.__esModule?i:{default:i},n=r(39);var a="__omnibear-selected-item",l=void 0,u=void 0;function h(){l&&(chrome.runtime.sendMessage({action:"clear-entry"}),d())}function d(){l&&(l.classList.remove(a),l=null,u=null)}},38:function(t,e,r){"use strict";var i=r(22);(function(){function t(){chrome.runtime.sendMessage({action:"focus-window",payload:{selectedEntry:(0,i.getCurrentItemUrl)()}})}document.body.addEventListener("click",i.clearItem),document.body.addEventListener("contextmenu",i.focusClickedEntry),chrome.runtime.onMessage.addListener(function(t,e,r){switch(t.action){case"fetch-token-error":(function(t){if(function(){var t=document.location;return"omnibear.com"===t.hostname&&"/auth/success/"===t.pathname}){var e=document.getElementById("status-heading"),r=document.getElementById("status-paragraph");e.textContent="Error fetching token from token endpoint",r.textContent=t.message}})(t.payload.error)}}),document.hidden||t(),window.addEventListener("focus",t)})()},39:function(t,e,r){"use strict";function i(t,e){for(;!e(t)&&"BODY"!=t.tagName;)t=t.parentElement;return e(t)?t:null}Object.defineProperty(e,"__esModule",{value:!0}),e.getAncestorNodeByClass=function(t,e){Array.isArray(e)||(e=[e]);return i(t,function(t){var r=!0,i=!1,o=void 0;try{for(var s,n=e[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var a=s.value;if(t.classList.contains(a))return!0}}catch(t){i=!0,o=t}finally{try{!r&&n.return&&n.return()}finally{if(i)throw o}}return!1})},e.getAncestorNode=i},40:function(t,e,r){var i,o,s;o=[],void 0===(s="function"==typeof(i=function(){var t={version:"2.0.2",livingStandard:"2016-05-25T09:22:18Z",Parser:function(){this.rootPrefix="h-",this.propertyPrefixes=["p-","dt-","u-","e-"],this.excludeTags=["br","hr"]}};t.maps=t.maps?t.maps:{},t.rels=t.rels?t.rels:{},t.Parser.prototype={init:function(){this.rootNode=null,this.document=null,this.options={baseUrl:"",filters:[],textFormat:"whitespacetrimmed",dateFormat:"auto",overlappingVersions:!1,impliedPropertiesByVersion:!0,parseLatLonGeo:!1,lang:!1},this.rootID=0,this.errors=[],this.noContentErr="No options.node or options.html was provided and no document object could be found."},get:function(e){var r,i=this.formatEmpty(),o=[];if(this.init(),e=e||{},this.mergeOptions(e),this.getDOMContext(e),this.rootNode&&this.document){if(this.hasMicroformats(this.rootNode,e)){if(this.prepareDOM(e),this.options.filters.length>0){var s=this.findFilterNodes(this.rootNode,this.options.filters);o=this.walkRoot(s)}else o=this.walkRoot(this.rootNode);i.items=o,!1===t.domUtils.canCloneDocument(this.document)&&this.clearUpDom(this.rootNode)}this.findRels&&(r=this.findRels(this.rootNode),i.rels=r.rels,i["rel-urls"]=r["rel-urls"])}else this.errors.push(this.noContentErr);return this.errors.length>0?this.formatError():i},getParent:function(t,e){return this.init(),e=e||{},t?this.getParentTreeWalk(t,e):(this.errors.push(this.noContentErr),this.formatError())},count:function(e){var r,i,o,s,n={};if(this.init(),e=e||{},this.getDOMContext(e),this.rootNode&&this.document){for(s=(r=this.findRootNodes(this.rootNode,!0)).length;s--;)for(o=(i=t.domUtils.getAttributeList(r[s],"class")).length;o--;)for(var a in t.utils.startWith(i[o],"h-")&&this.appendCount(i[o],1,n),t.maps)t.maps[a].root===i[o]&&-1===i.indexOf(a)&&this.appendCount(a,1,n);var l=this.countRels(this.rootNode);return l>0&&(n.rels=l),n}return{errors:[this.noContentErr]}},isMicroformat:function(e,r){var i,o;if(!e)return!1;if(e=t.domUtils.getTopMostNode(e),i=this.getUfClassNames(e),r&&r.filters&&t.utils.isArray(r.filters)){for(o=r.filters.length;o--;)if(i.root.indexOf(r.filters[o])>-1)return!0;return!1}return i.root.length>0},hasMicroformats:function(e,r){var i,o;if(!e)return!1;if(e=t.domUtils.getTopMostNode(e),i=this.findRootNodes(e,!0),r&&r.filters&&t.utils.isArray(r.filters)){for(o=i.length;o--;)if(this.isMicroformat(i[o],r))return!0;return!1}return i.length>0},add:function(e){e.forEach(function(e){e&&e.root&&e.name&&e.properties&&(t.maps[e.name]=JSON.parse(JSON.stringify(e)))})},getParentTreeWalk:function(t,e,r){return e=e||{},void 0===r?t.parentNode&&"HTML"!==t.nodeName?this.getParentTreeWalk(t.parentNode,e,!0):this.formatEmpty():null!==t&&void 0!==t&&t.parentNode?this.isMicroformat(t,e)?(e.node=t,this.get(e)):this.getParentTreeWalk(t.parentNode,e,!0):this.formatEmpty()},getDOMContext:function(e){var r=t.domUtils.getDOMContext(e);this.rootNode=r.rootNode,this.document=r.document},prepareDOM:function(e){var r,i,o,s,n;try{!e.baseUrl&&this.document&&this.document.location&&(this.options.baseUrl=this.document.location.href)}catch(t){}return(r=t.domUtils.querySelector(this.document,"base"))&&(i=t.domUtils.getAttribute(r,"href"))&&(this.options.baseUrl=i),o=t.domUtils.getNodePath(this.rootNode),s=t.domUtils.cloneDocument(this.document),n=t.domUtils.getNodeByPath(s,o),s&&n&&(this.document=s,this.rootNode=n),this.addIncludes&&this.addIncludes(this.document),this.rootNode&&this.document},formatError:function(){var t=this.formatEmpty();return t.errors=this.errors,t},formatEmpty:function(){return{items:[],rels:{},"rel-urls":{}}},findFilterNodes:function(e,r){t.utils.isString(r)&&(r=[r]);var i=t.domUtils.createNode("div"),o=this.findRootNodes(e,!0),s=0,n=0,a=0;for(a=r.length;a--;)if(this.getMapping(r[a])){var l=this.getMapping(r[a]).root;r.push(l)}if(o)for(s=o.length;n<s;){for(a=r.length;a--;)if(t.domUtils.hasAttributeValue(o[n],"class",r[a])){var u=t.domUtils.clone(o[n]);t.domUtils.appendChild(i,u);break}n++}return i},appendCount:function(t,e,r){r[t]?r[t]=r[t]+e:r[t]=e},shouldInclude:function(e,r){var i;if(t.utils.isArray(r)&&r.length>0){for(i=r.length;i--;)if(e.type[0]===r[i])return!0;return!1}return!0},findRootNodes:function(e,r){var i,o,s,n,a,l=null,u=[],h=[];for(a in t.maps)t.maps.hasOwnProperty(a)&&h.push(t.maps[a].root);for(o=0,s=(l=(r=r||!1)&&e.parentNode?t.domUtils.getNodesByAttribute(e.parentNode,"class"):t.domUtils.getNodesByAttribute(e,"class")).length;o<s;){for(n=(i=t.domUtils.getAttributeList(l[o],"class")).length;n--;){if(h.indexOf(i[n])>-1){u.push(l[o]);break}if(t.utils.startWith(i[n],"h-")){u.push(l[o]);break}}o++}return u},walkRoot:function(e){var r,i,o=[],s=[],n=[];if((i=this.getUfClassNames(e))&&i.root.length>0)(s=this.walkTree(e)).length>0&&(n=n.concat(s));else if((o=t.domUtils.getChildren(e))&&o.length>0&&this.findRootNodes(e,!0).length>-1)for(var a=0;a<o.length;a++)r=o[a],(s=this.walkRoot(r)).length>0&&(n=n.concat(s));return n},walkTree:function(e){var r,i,o,s=[];if((r=this.getUfClassNames(e))&&r.root.length&&r.root.length>0){if(this.rootID++,o=this.rootID,i=this.createUfObject(r.root,r.typeVersion),this.walkChildren(e,i,r.root,o,r),this.impliedRules&&this.impliedRules(e,i,r),!0===this.options.lang){var n=t.domUtils.getFirstAncestorAttribute(e,"lang");n&&(i.lang=n)}s.push(this.cleanUfObject(i))}return s},walkChildren:function(e,r,i,o,s){var n,a,l,u,h,d,p,m,c,f,g;for(c=0,f=(n=t.domUtils.getChildren(e)).length;c<f;){g=n[c];var v=this.getUfClassNames(g,i);if(v.root.length>0&&v.properties.length>0&&!g.addedAsRoot){for(a=this.createUfObject(v.root,v.typeVersion,t.text.parse(this.document,g,this.options.textFormat)),h=this.removePropPrefix(v.properties[0][0]),s&&1===s.root.length&&1===s.properties.length&&this.impliedValueRule&&(r=this.impliedValueRule(r,s.properties[0][0],v.properties[0][0],u)),r.properties[h]?r.properties[h].push(a):r.properties[h]=[a],this.rootID++,g.addedAsRoot=!0,m=0,p=a.type.length,l=this.rootID;m<p;)this.walkChildren(g,a,a.type,l,v),m++;this.impliedRules&&this.impliedRules(g,a,v),this.cleanUfObject(a)}if(0===v.root.length&&v.properties.length>0){for(m=0,p=v.properties.length;m<p;)u=this.getValue(g,v.properties[m][0],r),h=this.removePropPrefix(v.properties[m][0]),d=v.properties[m][1],s&&1===s.root.length&&1===s.properties.length&&this.impliedValueRule&&(r=this.impliedValueRule(r,s.properties[0][0],v.properties[m][0],u)),this.hasRootID(g,o,h)||this.isAllowedPropertyVersion(r.typeVersion,d)&&(r.properties[h]?r.properties[h].push(u):r.properties[h]=[u],this.appendRootID(g,o,h)),m++;this.walkChildren(g,r,i,o,v)}if(0===v.root.length&&0===v.properties.length&&this.walkChildren(g,r,i,o,v),v.root.length>0&&0===v.properties.length){for(a=this.createUfObject(v.root,v.typeVersion,t.text.parse(this.document,g,this.options.textFormat)),r.children||(r.children=[]),this.hasRootID(g,o,"child-root")||(r.children.push(a),this.appendRootID(g,o,"child-root"),this.rootID++),m=0,p=a.type.length,l=this.rootID;m<p;)this.walkChildren(g,a,a.type,l,v),m++;this.impliedRules&&this.impliedRules(g,a,v),this.cleanUfObject(a)}c++}},getValue:function(e,r,i){var o="";return t.utils.startWith(r,"p-")&&(o=this.getPValue(e,!0)),t.utils.startWith(r,"e-")&&(o=this.getEValue(e)),t.utils.startWith(r,"u-")&&(o=this.getUValue(e,!0)),t.utils.startWith(r,"dt-")&&(o=this.getDTValue(e,r,i,!0)),o},getPValue:function(e,r){var i="";return r&&(i=this.getValueClass(e,"p")),!i&&r&&(i=this.getValueTitle(e)),i||(i=t.domUtils.getAttrValFromTagList(e,["abbr"],"title")),i||(i=t.domUtils.getAttrValFromTagList(e,["data","input"],"value")),"br"!==e.name&&"hr"!==e.name||(i=""),i||(i=t.domUtils.getAttrValFromTagList(e,["img","area"],"alt")),i||(i=t.text.parse(this.document,e,this.options.textFormat)),i||""},getEValue:function(e){var r={value:"",html:""};if(this.expandURLs(e,"src",this.options.baseUrl),this.expandURLs(e,"href",this.options.baseUrl),r.value=t.text.parse(this.document,e,this.options.textFormat),r.html=t.html.parse(e),!0===this.options.lang){var i=t.domUtils.getFirstAncestorAttribute(e,"lang");i&&(r.lang=i)}return r},getUValue:function(e,r){var i="";return r&&(i=this.getValueClass(e,"u")),!i&&r&&(i=this.getValueTitle(e)),i||(i=t.domUtils.getAttrValFromTagList(e,["a","area"],"href")),i||(i=t.domUtils.getAttrValFromTagList(e,["img","audio","video","source"],"src")),i||(i=t.domUtils.getAttrValFromTagList(e,["video"],"poster")),i||(i=t.domUtils.getAttrValFromTagList(e,["object"],"data")),i&&""!==i&&-1===i.indexOf("://")&&(i=t.url.resolve(i,this.options.baseUrl)),i||(i=t.domUtils.getAttrValFromTagList(e,["abbr"],"title")),i||(i=t.domUtils.getAttrValFromTagList(e,["data","input"],"value")),i||(i=t.text.parse(this.document,e,this.options.textFormat)),i||""},getDTValue:function(e,r,i,o){var s="",n=!1;if(o&&(s=this.getValueClass(e,"dt"))&&(n=!0),!s&&o&&(s=this.getValueTitle(e)),s||(s=t.domUtils.getAttrValFromTagList(e,["time","ins","del"],"datetime")),s||(s=t.domUtils.getAttrValFromTagList(e,["abbr"],"title")),s||(s=t.domUtils.getAttrValFromTagList(e,["data","input"],"value")),s||(s=t.text.parse(this.document,e,this.options.textFormat)),s){var a=n?"microformat2":this.options.dateFormat;return t.dates.isDuration(s)?s:t.dates.isTime(s)?(i&&i.times.push([r,t.dates.parseAmPmTime(s,a)]),t.dates.parseAmPmTime(s,a)):(i&&i.dates.push([r,new t.ISODate(s).toString(a)]),new t.ISODate(s).toString(a))}return""},appendRootID:function(e,r,i){if(!1===this.hasRootID(e,r,i)){var o=[];t.domUtils.hasAttribute(e,"rootids")&&(o=t.domUtils.getAttributeList(e,"rootids")),o.push("id"+r+"-"+i),t.domUtils.setAttribute(e,"rootids",o.join(" "))}},hasRootID:function(e,r,i){return!!t.domUtils.hasAttribute(e,"rootids")&&t.domUtils.getAttributeList(e,"rootids").indexOf("id"+r+"-"+i)>-1},getValueClass:function(e,r){var i,o,s,n,a=[];for(s=0,n=(i=t.domUtils.getChildren(e)).length;s<n;){o=i[s];var l=null;if(t.domUtils.hasAttributeValue(o,"class","value")){switch(r){case"p":l=this.getPValue(o,!1);break;case"u":l=this.getUValue(o,!1);break;case"dt":l=this.getDTValue(o,"",null,!1)}l&&a.push(t.utils.trim(l))}s++}if(!(a.length>0))return null;if("p"===r)return t.text.parseText(this.document,a.join(""),this.options.textFormat);if("u"===r)return a.join("");if("dt"===r){return t.dates.concatFragments(a,"microformat2").toString("microformat2")}},getValueTitle:function(e){var r,i,o,s=[];for(o=0,i=(r=t.domUtils.getNodesByAttributeValue(e,"class","value-title")).length;o<i;)t.domUtils.hasAttribute(r[o],"title")&&s.push(t.domUtils.getAttribute(r[o],"title")),o++;return s.join("")},hasHClass:function(t){var e=this.getUfClassNames(t);return!!(e.root&&e.root.length>0)},getUfClassNames:function(e,r){var i,o,s,n,a,l,u,h,d,p,m,c,f,g,v={root:[],properties:[]};if(!1===t.domUtils.hasTagName(e,this.excludeTags)&&(i=t.domUtils.getAttribute(e,"class")))for(l=0,a=(s=i.split(" ")).length;l<a;){for(n=t.utils.trim(s[l]),t.utils.startWith(n,this.rootPrefix)&&t.utils.isLowerCase(n)&&(-1===v.root.indexOf(n)&&v.root.push(n),v.typeVersion="v2"),u=this.propertyPrefixes.length;u--;)t.utils.startWith(n,this.propertyPrefixes[u])&&t.utils.isLowerCase(n)&&v.properties.push([n,"v2"]);for(o in t.maps)t.maps.hasOwnProperty(o)&&t.maps[o].root===n&&-1===v.root.indexOf(o)&&(t.maps[o].subTree?v.properties.push(["p-"+t.maps[o].root,"v1"]):(v.root.push(o),v.typeVersion||(v.typeVersion="v1")));if(r)for(var y=0;y<r.length;y++)if(g=r[y],d=this.getMapping(g))for(o in d.properties)if(d.properties.hasOwnProperty(o)&&(m=(p=d.properties[o]).map?p.map:"p-"+o,o===n))if(p.uf){for(h=0;h<a;)c=this.getV2RootName(s[h]),p.uf.indexOf(c)>-1&&-1===v.root.indexOf(c)&&(v.root.push(c),v.typeVersion="v1"),h++;-1===v.properties.indexOf(m)&&v.properties.push([m,"v1"])}else-1===v.properties.indexOf(m)&&v.properties.push([m,"v1"]);l++}if(r&&this.findRelImpied)for(var b=0;b<r.length;b++)g=r[b],(f=this.findRelImpied(e,g))&&-1===v.properties.indexOf(f)&&v.properties.push([f,"v1"]);return v},getMapping:function(e){var r;for(r in t.maps)if(t.maps[r].root===e||r===e)return t.maps[r];return null},getV2RootName:function(e){var r;for(r in t.maps)if(t.maps[r].root===e)return r;return null},isAllowedPropertyVersion:function(t,e){return!0===this.options.overlappingVersions||t===e},createUfObject:function(e,r,i){var o={};return i&&!1===t.utils.isOnlyWhiteSpace(i)&&(o.value=i),t.utils.isArray(e)?o.type=e:o.type=[e],o.properties={},o.typeVersion=r,o.times=[],o.dates=[],o.altValue=null,o},cleanUfObject:function(t){return delete t.times,delete t.dates,delete t.typeVersion,delete t.altValue,t},removePropPrefix:function(e){var r;for(r=this.propertyPrefixes.length;r--;){var i=this.propertyPrefixes[r];t.utils.startWith(e,i)&&t.utils.isLowerCase(e)&&(e=e.substr(i.length))}return e},expandURLs:function(e,r,i){var o,s,n;for(o=(s=t.domUtils.getNodesByAttribute(e,r)).length;o--;)try{(n=t.domUtils.getAttribute(s[o],r))&&""!==n&&""!==i&&-1===n.indexOf("://")&&(n=t.url.resolve(n,i),t.domUtils.setAttribute(s[o],r,n))}catch(t){}},mergeOptions:function(t){var e;for(e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e])},removeRootIds:function(e){var r,i;for(i=(r=t.domUtils.getNodesByAttribute(e,"rootids")).length;i--;)t.domUtils.removeAttribute(r[i],"rootids")},clearUpDom:function(t){this.removeIncludes&&this.removeIncludes(t),this.removeRootIds(t)}},t.Parser.prototype.constructor=t.Parser,t.Parser&&(t.Parser.prototype.impliedRules=function(t,e,r){var i=e.typeVersion?e.typeVersion:"v2";return!1===this.options.impliedPropertiesByVersion&&(i="v2"),t&&e&&e.properties&&(e=this.impliedBackwardComp(t,e,r),"v2"===i&&(e=this.impliedhFeedTitle(e),e=this.impliedName(t,e),e=this.impliedPhoto(t,e),e=this.impliedUrl(t,e)),e=this.impliedValue(t,e,r),e=this.impliedDate(e),!0===this.options.parseLatLonGeo&&(e=this.impliedGeo(e))),e},t.Parser.prototype.impliedName=function(e,r){var i,o;if(!r.properties.name){o=this.getImpliedProperty(e,["img","area","abbr"],this.getNameAttr);var s=this.options.textFormat;(i=o?[t.text.parseText(this.document,o,s)]:[t.text.parse(this.document,e,s)])&&""!==i[0]&&(r.properties.name=i)}return r},t.Parser.prototype.impliedPhoto=function(e,r){var i;return r.properties.photo||(i=this.getImpliedProperty(e,["img","object"],this.getPhotoAttr))&&(i&&""!==i&&""!==this.options.baseUrl&&-1===i.indexOf("://")&&(i=t.url.resolve(i,this.options.baseUrl)),r.properties.photo=[t.utils.trim(i)]),r},t.Parser.prototype.impliedUrl=function(e,r){var i;return r.properties.url||(i=this.getImpliedProperty(e,["a","area"],this.getURLAttr))&&(i&&""!==i&&""!==this.options.baseUrl&&-1===i.indexOf("://")&&(i=t.url.resolve(i,this.options.baseUrl)),r.properties.url=[t.utils.trim(i)]),r},t.Parser.prototype.impliedDate=function(e){var r;if(e.times.length>0&&e.dates.length>0){r=t.dates.dateTimeUnion(e.dates[0][1],e.times[0][1],"microformat2");var i=this.removePropPrefix(e.times[0][0]);i.length&&Array.isArray(e.properties[i])&&(e.properties[i][0]=r.toString("microformat2"))}return delete e.times,delete e.dates,e},t.Parser.prototype.getImpliedProperty=function(e,r,i){var o,s,n=i(e);return n||((o=t.domUtils.getSingleDescendantOfType(e,r))&&!1===this.hasHClass(o)&&(n=i(o)),e.children.length>0&&(s=t.domUtils.getSingleDescendant(e))&&!1===this.hasHClass(s)&&(o=t.domUtils.getSingleDescendantOfType(s,r))&&!1===this.hasHClass(o)&&(n=i(o))),n},t.Parser.prototype.getNameAttr=function(e){var r=t.domUtils.getAttrValFromTagList(e,["img","area"],"alt");return r||(r=t.domUtils.getAttrValFromTagList(e,["abbr"],"title")),r},t.Parser.prototype.getPhotoAttr=function(e){var r=t.domUtils.getAttrValFromTagList(e,["img"],"src");return r||!1!==t.domUtils.hasAttributeValue(e,"class","include")||(r=t.domUtils.getAttrValFromTagList(e,["object"],"data")),r},t.Parser.prototype.getURLAttr=function(e){var r=null;return!1===t.domUtils.hasAttributeValue(e,"class","include")&&((r=t.domUtils.getAttrValFromTagList(e,["a"],"href"))||(r=t.domUtils.getAttrValFromTagList(e,["area"],"href"))),r},t.Parser.prototype.impliedValue=function(t,e,r){return e.properties.name&&e.value&&r.root.length>0&&1===r.properties.length&&(e=this.getAltValue(e,r.properties[0][0],"p-name",e.properties.name[0])),e.properties.url&&r&&1===r.root.length&&1===r.properties.length&&(e=this.getAltValue(e,r.properties[0][0],"u-url",e.properties.url[0])),null!==e.altValue&&(e.value=e.altValue.value),delete e.altValue,e},t.Parser.prototype.getAltValue=function(e,r,i,o){return e.value&&!e.altValue&&(t.utils.startWith(r,"p-")&&"p-name"===i&&(e.altValue={name:i,value:o}),t.utils.startWith(r,"e-")&&t.utils.startWith(i,"e-")&&(e.altValue={name:i,value:o}),t.utils.startWith(r,"u-")&&"u-url"===i&&(e.altValue={name:i,value:o})),e},t.Parser.prototype.impliedhFeedTitle=function(e){if(e.type&&e.type.indexOf("h-feed")>-1&&(void 0===e.properties.name||""===e.properties.name[0])){var r=t.domUtils.querySelector(this.document,"title");r&&(e.properties.name=[t.domUtils.textContent(r)])}return e},t.Parser.prototype.impliedGeo=function(e){var r,i,o,s,n=!0;return e.type&&e.type.indexOf("h-geo")>-1&&(void 0!==e.properties.latitude&&void 0!==e.properties.longitude||(r=!(r=e.properties.name?e.properties.name[0]:null)&&e.properties.value?e.properties.value:r)&&(r=r.replace(";",",")).indexOf(",")>-1&&(i=r.split(",")).length>1&&(s=parseFloat(i[0]),(t.utils.isNumber(s)&&s>90||s<-90)&&(n=!1),o=parseFloat(i[1]),(t.utils.isNumber(o)&&o>180||o<-180)&&(n=!1),n&&(e.properties.latitude=[s],e.properties.longitude=[o]))),e},t.Parser.prototype.impliedBackwardComp=function(e,r,i){return 1===i.root.length&&1===i.properties.length&&i.root[0].replace("h-","")===this.removePropPrefix(i.properties[0][0])&&!1===t.utils.hasProperties(r.properties)&&(r=this.impliedName(e,r)),r}),t.Parser&&(t.Parser.prototype.addIncludes=function(t){this.addAttributeIncludes(t,"itemref"),this.addAttributeIncludes(t,"headers"),this.addClassIncludes(t)},t.Parser.prototype.addAttributeIncludes=function(e,r){var i,o,s,n,a,l;for(n=0,s=(i=t.domUtils.getNodesByAttribute(e,r)).length;n<s;){if(o=t.domUtils.getAttributeList(i[n],r))for(a=0,l=o.length;a<l;)this.apppendInclude(i[n],o[a]),a++;n++}},t.Parser.prototype.addClassIncludes=function(e){var r,i,o,s=0;for(o=(i=t.domUtils.getNodesByAttributeValue(e,"class","include")).length;s<o;)(r=t.domUtils.getAttrValFromTagList(i[s],["a"],"href"))||(r=t.domUtils.getAttrValFromTagList(i[s],["object"],"data")),this.apppendInclude(i[s],r),s++},t.Parser.prototype.apppendInclude=function(e,r){var i,o;r&&(r=t.utils.trim(r.replace("#","")),(i=t.domUtils.getElementById(this.document,r))&&(o=t.domUtils.clone(i),this.markIncludeChildren(o),t.domUtils.appendChild(e,o)))},t.Parser.prototype.markIncludeChildren=function(e){var r,i,o;for(i=0,o=(r=this.findRootNodes(e)).length,t.domUtils.setAttribute(e,"data-include","true"),t.domUtils.setAttribute(e,"style","display:none");i<o;)t.domUtils.setAttribute(r[i],"data-include","true"),i++},t.Parser.prototype.removeIncludes=function(e){var r,i;for(i=(r=t.domUtils.getNodesByAttribute(e,"data-include")).length;i--;)t.domUtils.removeChild(e,r[i])}),t.Parser&&(t.Parser.prototype.findRels=function(e){var r,i,o,s,n,a,l,u,h,d={items:[],rels:{},"rel-urls":{}};for(r=0,i=(h=t.domUtils.getNodesByAttribute(e,"rel")).length;r<i;){if(n=t.domUtils.getAttribute(h[r],"rel")){for(s=0,o=(a=n.split(" ")).length;s<o;){if(l=t.utils.trim(a[s]),(u=t.domUtils.getAttrValFromTagList(h[r],["a","area"],"href"))||(u=t.domUtils.getAttrValFromTagList(h[r],["link"],"href")),d.rels[l]||(d.rels[l]=[]),"string"==typeof this.options.baseUrl&&"string"==typeof u){var p=t.url.resolve(u,this.options.baseUrl);-1===d.rels[l].indexOf(p)&&d.rels[l].push(p)}s++}var m=null;t.domUtils.hasAttribute(h[r],"href")&&(m=t.domUtils.getAttribute(h[r],"href"))&&(m=t.url.resolve(m,this.options.baseUrl));var c=this.getRelProperties(h[r]);c.rels=a,m&&void 0===d["rel-urls"][m]&&(d["rel-urls"][m]=c)}r++}return d},t.Parser.prototype.getRelProperties=function(e){var r={};return t.domUtils.hasAttribute(e,"media")&&(r.media=t.domUtils.getAttribute(e,"media")),t.domUtils.hasAttribute(e,"type")&&(r.type=t.domUtils.getAttribute(e,"type")),t.domUtils.hasAttribute(e,"hreflang")&&(r.hreflang=t.domUtils.getAttribute(e,"hreflang")),t.domUtils.hasAttribute(e,"title")&&(r.title=t.domUtils.getAttribute(e,"title")),""!==t.utils.trim(this.getPValue(e,!1))&&(r.text=this.getPValue(e,!1)),r},t.Parser.prototype.findRelImpied=function(e,r){var i,o,s;if(o=this.getMapping(r))for(var n in o.properties)if(o.properties.hasOwnProperty(n)){var a=o.properties[n],l=a.map?a.map:"p-"+n,u=0;if(a.relAlt&&t.domUtils.hasAttribute(e,"rel")){for(s=a.relAlt.length;s--;)t.domUtils.hasAttributeValue(e,"rel",a.relAlt[s])&&u++;u===a.relAlt.length&&(i=l)}}return i},t.Parser.prototype.hasRel=function(t){return this.countRels(t)>0},t.Parser.prototype.countRels=function(e){return e?t.domUtils.getNodesByAttribute(e,"rel").length:0}),t.utils={isString:function(t){return"string"==typeof t},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isArray:function(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length},isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},startWith:function(t,e){return 0===t.indexOf(e)},isLowerCase:function(t){return t===t.toLowerCase()},trim:function(t){return t&&this.isString(t)?t.trim()?t.trim():t.replace(/^\s+|\s+$/g,""):""},replaceCharAt:function(t,e,r){return t&&t.length>e?t.substr(0,e)+r+t.substr(e+r.length):t},trimWhitespace:function(t){if(t&&t.length){for(var e=t.length,r=0;e--&&this.isOnlyWhiteSpace(t[e]);)t=this.replaceCharAt(t,e," ");for(e=t.length;r<e&&this.isOnlyWhiteSpace(t[r]);)t=this.replaceCharAt(t,e," "),r++}return this.trim(t)},isOnlyWhiteSpace:function(t){return!/[^\t\n\r ]/.test(t)},collapseWhiteSpace:function(t){return t.replace(/[\t\n\r ]+/g," ")},hasProperties:function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1},sortObjects:function(t,e){return e=e?-1:1,function(r,i){return(r=r[t])<(i=i[t])?-1*e:r>i?1*e:0}}},t.domUtils={document:null,rootNode:null,getDOMParser:function(){if(void 0!==typeof DOMParser)return new DOMParser;try{return Components.classes["@mozilla.org/xmlextras/domparser;1"].createInstance(Components.interfaces.nsIDOMParser)}catch(t){return}},getDOMContext:function(e){if(e.node&&(this.rootNode=e.node),e.html){var r=this.getDOMParser();this.rootNode=r.parseFromString(e.html,"text/html")}return null!==this.rootNode&&(9===this.rootNode.nodeType?(this.document=this.rootNode,this.rootNode=t.domUtils.querySelector(this.rootNode,"html")):this.document=t.domUtils.ownerDocument(this.rootNode)),!this.rootNode&&document&&(this.rootNode=t.domUtils.querySelector(document,"html"),this.document=document),this.rootNode&&this.document?{document:this.document,rootNode:this.rootNode}:{document:null,rootNode:null}},getTopMostNode:function(t){return t},ownerDocument:function(t){return t.ownerDocument},textContent:function(t){return t.textContent?t.textContent:t.innerText?t.innerText:""},innerHTML:function(t){return t.innerHTML},hasAttribute:function(t,e){return!!t.hasAttribute&&t.hasAttribute(e)},hasAttributeValue:function(t,e,r){return this.getAttributeList(t,e).indexOf(r)>-1},getAttribute:function(t,e){return t.getAttribute(e)},setAttribute:function(t,e,r){t.setAttribute(e,r)},removeAttribute:function(t,e){t.removeAttribute(e)},getElementById:function(t,e){return t.querySelector("#"+e)},querySelector:function(t,e){return t.querySelector(e)},getAttributeList:function(t,e){var r,i=[];return(r=t.getAttribute(e))&&""!==r&&(r.indexOf(" ")>-1?i=r.split(" "):i.push(r)),i},getNodesByAttribute:function(t,e){var r="["+e+"]";return t.querySelectorAll(r)},getNodesByAttributeValue:function(t,e,r){var i,o,s=0,n=[];if(i=this.getNodesByAttribute(t,e))for(o=i.length;s<o;)this.hasAttributeValue(i[s],e,r)&&n.push(i[s]),s++;return n},getAttrValFromTagList:function(t,e,r){for(var i=e.length;i--;)if(t.tagName.toLowerCase()===e[i]){var o=this.getAttribute(t,r);if(o&&""!==o)return o}return null},getSingleDescendant:function(t){return this.getDescendant(t,null,!1)},getSingleDescendantOfType:function(t,e){return this.getDescendant(t,e,!0)},getDescendant:function(t,e,r){for(var i,o=t.children.length,s=0,n=0,a=null;o--;)1===(i=t.children[o]).nodeType&&(e?this.hasTagName(i,e)&&(a=i,n++):(a=i,s++));return!0===r?1===n?a:null:1===s?a:null},hasTagName:function(t,e){for(var r=e.length;r--;)if(t.tagName.toLowerCase()===e[r])return!0;return!1},appendChild:function(t,e){return t.appendChild(e)},removeChild:function(t){return t.parentNode?t.parentNode.removeChild(t):null},clone:function(t){var e=t.cloneNode(!0);return this.hasAttribute(t,"id")&&this.removeAttribute(t,"id"),e},removeDescendantsByTagName:function(t,e){for(var r=0;r<e.length;r++)if(t.getElementsByTagName)for(var i=t.getElementsByTagName(e[r]);i[0];)i[0].parentNode.removeChild(i[0]);return t},getElementText:function(t){return t&&t.data?t.data:""},getOrderedAttributes:function(e){for(var r=e.outerHTML,i=[],o=0;o<e.attributes.length;o++){var s=e.attributes[o];s.indexNum=r.indexOf(s.name),i.push(s)}return i.sort(t.utils.sortObjects("indexNum"))},decodeEntities:function(t,e){return t.createTextNode(e).nodeValue},cloneDocument:function(t){var e,r=null;return this.canCloneDocument(t)&&(e=(r=t.implementation.createHTMLDocument("")).importNode(t.documentElement,!0),r.replaceChild(e,r.querySelector("html"))),e&&e.nodeType&&1===e.nodeType?r:t},canCloneDocument:function(t){return t&&t.importNode&&t.implementation&&t.implementation.createHTMLDocument},getChildIndex:function(t){for(var e,r=t.parentNode,i=-1;r&&(e=r.childNodes[++i]);)if(e===t)return i;return-1},getNodePath:function(t){var e=t.parentNode,r=[],i=this.getChildIndex(t);return e&&(r=this.getNodePath(e))&&i>-1&&r.push(i),r},getFirstAncestorAttribute:function(t,e){if(!t)return null;if(this.hasAttribute(t,e))return this.getAttribute(t,e);var r=t.parentNode;return r?this.getFirstAncestorAttribute(r,e):null},getNodeByPath:function(t,e){for(var r,i=t.documentElement,o=0;(r=e[++o])>-1;)i=i.childNodes[r];return i},getChildren:function(t){return t.children},createNode:function(t){return this.document.createElement(t)},createNodeWithText:function(t,e){var r=this.document.createElement(t);return r.innerHTML=e,r}},t.url={init:function(){this._domParser=t.domUtils.getDOMParser(),this._html='<base id="base" href=""></base><a id="link" href=""></a>',this._nodes=this._domParser.parseFromString(this._html,"text/html"),this._baseNode=t.domUtils.getElementById(this._nodes,"base"),this._linkNode=t.domUtils.getElementById(this._nodes,"link")},resolve:function(e,r){if(!t.utils.isString(e)||!t.utils.isString(r)||-1!==e.indexOf("://"))return t.utils.isString(e)?e:"";try{var i=new URL(e,r).toString();return"[object URL]"===i&&(i=URI.resolve(r,e)),i}catch(t){return void 0===this._domParser&&this.init(),this._baseNode.href=r,this._linkNode.href=e,this._linkNode.href}}},t.ISODate=function(t,e){this.clear(),this.format=e||"auto",this.setFormatSep(),arguments[0]&&this.parse(t,this.format)},t.ISODate.prototype={clear:function(){this.clearDate(),this.clearTime(),this.clearTimeZone(),this.setAutoProfileState()},clearDate:function(){this.dY=-1,this.dM=-1,this.dD=-1,this.dDDD=-1},clearTime:function(){this.tH=-1,this.tM=-1,this.tS=-1,this.tD=-1},clearTimeZone:function(){this.tzH=-1,this.tzM=-1,this.tzPN="+",this.z=!1},setAutoProfileState:function(){this.autoProfile={sep:"T",dsep:"-",tsep:":",tzsep:":",tzZulu:"Z"}},parse:function(t,e){this.clear(),this.setFormat(e);var r=[],i=[],o=0,s="",n="",a="";return t.indexOf("t")>-1&&(this.autoProfile.sep="t"),t.indexOf("z")>-1&&(this.autoProfile.tzZulu="z"),t.indexOf("Z")>-1&&(this.autoProfile.tzZulu="Z"),-1===t.toUpperCase().indexOf("T")&&(this.autoProfile.sep=" "),(t=t.toUpperCase().replace(" ","T")).indexOf("T")>-1?(s=(r=t.split("T"))[0],(n=r[1]).indexOf("Z")>-1&&(this.z=!0),(n.indexOf("+")>-1||n.indexOf("-")>-1)&&(n=(i=n.split("Z"))[0],a=i[1],(n.indexOf("+")>-1||n.indexOf("-")>-1)&&(o=0,o=n.indexOf("+")>-1?n.indexOf("+"):n.indexOf("-"),a=n.substring(o,n.length),n=n.substring(0,o)))):s=t,""!==s&&(this.parseDate(s),""!==n&&(this.parseTime(n),""!==a&&this.parseTimeZone(a))),this.toString(this.format)},parseDate:function(t,e){this.setFormat(e),this.clearDate();var r=[];return-1===t.indexOf("-")&&(this.autoProfile.tsep=""),(r=t.match(/(\d\d\d\d)-(\d\d\d)/))&&(r[1]&&(this.dY=r[1]),r[2]&&(this.dDDD=r[2])),-1===this.dDDD&&((r=t.match(/(\d\d\d\d)?-?(\d\d)?-?(\d\d)?/))[1]&&(this.dY=r[1]),r[2]&&(this.dM=r[2]),r[3]&&(this.dD=r[3])),this.toString(this.format)},parseTime:function(t,e){this.setFormat(e),this.clearTime();var r;return-1===t.indexOf(":")&&(this.autoProfile.tsep=""),(r=t.match(/(\d\d)?:?(\d\d)?:?(\d\d)?.?([0-9]+)?/))[1]&&(this.tH=r[1]),r[2]&&(this.tM=r[2]),r[3]&&(this.tS=r[3]),r[4]&&(this.tD=r[4]),this.toTimeString(this.format)},parseTimeZone:function(t,e){this.setFormat(e),this.clearTimeZone();var r=[];return"z"===t.toLowerCase()?(this.z=!0,this.autoProfile.tzZulu="z"===t?"z":"Z"):(-1===t.indexOf(":")&&(this.autoProfile.tzsep=""),(r=t.match(/([\-\+]{1})?(\d\d)?:?(\d\d)?/))[1]&&(this.tzPN=r[1]),r[2]&&(this.tzH=r[2]),r[3]&&(this.tzM=r[3])),this.tzZulu="z",this.toTimeString(this.format)},toString:function(t){this.setFormat(t);var e="";return this.dY>-1?(e=this.dY,this.dM>0&&this.dM<13&&(e+=this.dsep+this.dM,this.dD>0&&this.dD<32&&(e+=this.dsep+this.dD,this.tH>-1&&this.tH<25&&(e+=this.sep+this.toTimeString(this.format)))),this.dDDD>-1&&(e+=this.dsep+this.dDDD)):this.tH>-1&&(e+=this.toTimeString(this.format)),e},toTimeString:function(t){this.setFormat(t);var e="";return this.tH&&this.tH>-1&&this.tH<25&&(e+=this.tH,this.tM>-1&&this.tM<61&&(e+=this.tsep+this.tM,this.tS>-1&&this.tS<61&&(e+=this.tsep+this.tS,this.tD>-1&&(e+="."+this.tD))),this.z?e+=this.tzZulu:this.tzH&&this.tzH>-1&&this.tzH<25&&(e+=this.tzPN+this.tzH,this.tzM>-1&&this.tzM<61&&(e+=this.tzsep+this.tzM))),e},setFormat:function(t){t&&(this.format=t),this.setFormatSep()},setFormatSep:function(){switch(this.format.toLowerCase()){case"microformat2":this.sep=" ",this.dsep="-",this.tsep=":",this.tzsep="",this.tzZulu="Z";break;case"rfc3339":this.sep="T",this.dsep="",this.tsep="",this.tzsep="",this.tzZulu="Z";break;case"w3c":this.sep="T",this.dsep="-",this.tsep=":",this.tzsep=":",this.tzZulu="Z";break;case"html5":this.sep=" ",this.dsep="-",this.tsep=":",this.tzsep=":",this.tzZulu="Z";break;default:this.sep=this.autoProfile.sep,this.dsep=this.autoProfile.dsep,this.tsep=this.autoProfile.tsep,this.tzsep=this.autoProfile.tzsep,this.tzZulu=this.autoProfile.tzZulu}},hasFullDate:function(){return-1!==this.dY&&-1!==this.dM&&-1!==this.dD},hasDate:function(){return-1!==this.dY},hasTime:function(){return-1!==this.tH},hasTimeZone:function(){return-1!==this.tzH}},t.ISODate.prototype.constructor=t.ISODate,t.dates={hasAM:function(t){return(t=t.toLowerCase()).indexOf("am")>-1||t.indexOf("a.m.")>-1},hasPM:function(t){return(t=t.toLowerCase()).indexOf("pm")>-1||t.indexOf("p.m.")>-1},removeAMPM:function(t){return t.replace("pm","").replace("p.m.","").replace("am","").replace("a.m.","")},isDuration:function(e){return!(!t.utils.isString(e)||(e=e.toLowerCase(),!t.utils.startWith(e,"p")))},isTime:function(e){if(t.utils.isString(e)){if(e=e.toLowerCase(),(e=t.utils.trim(e)).match(":")&&(t.utils.startWith(e,"z")||t.utils.startWith(e,"-")||t.utils.startWith(e,"+")))return!0;if(e.match(/^[0-9]/)&&(this.hasAM(e)||this.hasPM(e)))return!0;if(e.match(":")&&!e.match(/t|\s/))return!0;if(t.utils.isNumber(e)&&(2===e.length||4===e.length||6===e.length))return!0}return!1},parseAmPmTime:function(e){var r=e,i=[];return t.utils.isString(r)&&((e=e.replace(/[ ]+/g,"")).match(":")||this.hasAM(e)||this.hasPM(e))&&(e.match(":")?i=e.split(":"):(i[0]=e,i[0]=this.removeAMPM(i[0])),this.hasPM(e)&&i[0]<12&&(i[0]=parseInt(i[0],10)+12),i[0]&&1===i[0].length&&(i[0]="0"+i[0]),i[0]&&(e=i.join(":"))),this.removeAMPM(e)},dateTimeUnion:function(e,r,i){var o=new t.ISODate(e,i),s=new t.ISODate;return s.parseTime(this.parseAmPmTime(r),i),o.hasFullDate()&&s.hasTime()?(o.tH=s.tH,o.tM=s.tM,o.tS=s.tS,o.tD=s.tD,o):o.hasFullDate()?o:new t.ISODate},concatFragments:function(e,r){var i=new t.ISODate,o=0,s="";if(e[0].toUpperCase().match("T"))return new t.ISODate(e[0],r);for(o=0;o<e.length;o++){if("-"===(s=e[o]).charAt(4)&&!1===i.hasFullDate()&&i.parseDate(s),(s.indexOf(":")>-1||t.utils.isNumber(this.parseAmPmTime(s)))&&!1===i.hasTime()){var n=this.splitTimeAndZone(s);s=n[0],s=this.parseAmPmTime(s),i.parseTime(s),n.length>1&&i.parseTimeZone(n[1],r)}"-"!==s.charAt(0)&&"+"!==s.charAt(0)&&"Z"!==s.toUpperCase()||!1===i.hasTimeZone()&&i.parseTimeZone(s)}return-1===i.tM&&(i.tM="00"),i},splitTimeAndZone:function(t){for(var e=[t],r=["-","+","z","Z"],i=r.length;i--;)if(t.indexOf(r[i])>-1){e[0]=t.slice(0,t.indexOf(r[i])),e.push(t.slice(t.indexOf(r[i])));break}return e}},t.text={textFormat:"whitespacetrimmed",blockLevelTags:["h1","h2","h3","h4","h5","h6","p","hr","pre","table","address","article","aside","blockquote","caption","col","colgroup","dd","div","dt","dir","fieldset","figcaption","figure","footer","form","header","hgroup","hr","li","map","menu","nav","optgroup","option","section","tbody","testarea","tfoot","th","thead","tr","td","ul","ol","dl","details"],excludeTags:["noframe","noscript","template","script","style","frames","frameset"],parse:function(e,r,i){var o;if(this.textFormat=i||this.textFormat,"normalised"===this.textFormat)return void 0!==(o=this.walkTreeForText(r))?this.normalise(e,o):"";var s=t.domUtils.clone(r),n=t.domUtils.removeDescendantsByTagName(s,this.excludeTags);return this.formatText(e,t.domUtils.textContent(n),this.textFormat)},parseText:function(e,r,i){var o=t.domUtils.createNodeWithText("div",r);return this.parse(e,o,i)},formatText:function(e,r,i){if(this.textFormat=i||this.textFormat,r){var o=r;return"whitespacetrimmed"===this.textFormat&&(o=t.utils.trimWhitespace(o)),o}return""},normalise:function(e,r){return r=r.replace(/&nbsp;/g," "),r=t.utils.collapseWhiteSpace(r),r=(r=t.domUtils.decodeEntities(e,r)).replace("â€“","-"),t.utils.trim(r)},walkTreeForText:function(e){var r="",i=0;if(e.tagName&&this.excludeTags.indexOf(e.tagName.toLowerCase())>-1)return r;if(e.nodeType&&3===e.nodeType&&(r+=t.domUtils.getElementText(e)),e.childNodes&&e.childNodes.length>0)for(i=0;i<e.childNodes.length;i++){var o=this.walkTreeForText(e.childNodes[i]);void 0!==o&&(r+=o)}return e.tagName&&-1!==this.blockLevelTags.indexOf(e.tagName.toLowerCase())&&(r+=" "),""===r?void 0:r}},t.html={selfClosingElt:["area","base","br","col","hr","img","input","link","meta","param","command","keygen","source"],parse:function(t){var e="",r=0;if(t.childNodes&&t.childNodes.length>0)for(r=0;r<t.childNodes.length;r++){var i=this.walkTreeForHtml(t.childNodes[r]);void 0!==i&&(e+=i)}return e},walkTreeForHtml:function(e){var r="",i=0;if(e.nodeType&&3===e.nodeType){var o=t.domUtils.createNode("div");t.domUtils.appendChild(o,t.domUtils.clone(e)),r+=t.domUtils.innerHTML(o)}if(e.nodeType&&1===e.nodeType&&!1===t.domUtils.hasAttribute(e,"data-include")){r+="<"+e.tagName.toLowerCase();var s=t.domUtils.getOrderedAttributes(e);for(i=0;i<s.length;i++)r+=" "+s[i].name+'="'+s[i].value+'"';if(-1===this.selfClosingElt.indexOf(e.tagName.toLowerCase())&&(r+=">"),e.childNodes&&e.childNodes.length>0)for(i=0;i<e.childNodes.length;i++){var n=this.walkTreeForHtml(e.childNodes[i]);void 0!==n&&(r+=n)}this.selfClosingElt.indexOf(e.tagName.toLowerCase())>-1?r+=" />":r+="</"+e.tagName.toLowerCase()+">"}return""===r?void 0:r}},t.maps["h-adr"]={root:"adr",name:"h-adr",properties:{"post-office-box":{},"street-address":{},"extended-address":{},locality:{},region:{},"postal-code":{},"country-name":{}}},t.maps["h-card"]={root:"vcard",name:"h-card",properties:{fn:{map:"p-name"},adr:{map:"p-adr",uf:["h-adr"]},agent:{uf:["h-card"]},bday:{map:"dt-bday"},class:{},category:{map:"p-category",relAlt:["tag"]},email:{map:"u-email"},geo:{map:"p-geo",uf:["h-geo"]},key:{map:"u-key"},label:{},logo:{map:"u-logo"},mailer:{},"honorific-prefix":{},"given-name":{},"additional-name":{},"family-name":{},"honorific-suffix":{},nickname:{},note:{},org:{},"p-organization-name":{},"p-organization-unit":{},photo:{map:"u-photo"},rev:{map:"dt-rev"},role:{},sequence:{},"sort-string":{},sound:{map:"u-sound"},title:{map:"p-job-title"},tel:{},tz:{},uid:{map:"u-uid"},url:{map:"u-url"}}},t.maps["h-entry"]={root:"hentry",name:"h-entry",properties:{"entry-title":{map:"p-name"},"entry-summary":{map:"p-summary"},"entry-content":{map:"e-content"},published:{map:"dt-published"},updated:{map:"dt-updated"},author:{uf:["h-card"]},category:{map:"p-category",relAlt:["tag"]},geo:{map:"p-geo",uf:["h-geo"]},latitude:{},longitude:{},url:{map:"u-url",relAlt:["bookmark"]}}},t.maps["h-event"]={root:"vevent",name:"h-event",properties:{summary:{map:"p-name"},dtstart:{map:"dt-start"},dtend:{map:"dt-end"},description:{},url:{map:"u-url"},category:{map:"p-category",relAlt:["tag"]},location:{uf:["h-card"]},geo:{uf:["h-geo"]},latitude:{},longitude:{},duration:{map:"dt-duration"},contact:{uf:["h-card"]},organizer:{uf:["h-card"]},attendee:{uf:["h-card"]},uid:{map:"u-uid"},attach:{map:"u-attach"},status:{},rdate:{},rrule:{}}},t.maps["h-feed"]={root:"hfeed",name:"h-feed",properties:{category:{map:"p-category",relAlt:["tag"]},summary:{map:"p-summary"},author:{uf:["h-card"]},url:{map:"u-url"},photo:{map:"u-photo"}}},t.maps["h-geo"]={root:"geo",name:"h-geo",properties:{latitude:{},longitude:{}}},t.maps["h-item"]={root:"item",name:"h-item",subTree:!1,properties:{fn:{map:"p-name"},url:{map:"u-url"},photo:{map:"u-photo"}}},t.maps["h-listing"]={root:"hlisting",name:"h-listing",properties:{version:{},lister:{uf:["h-card"]},dtlisted:{map:"dt-listed"},dtexpired:{map:"dt-expired"},location:{},price:{},item:{uf:["h-card","a-adr","h-geo"]},summary:{map:"p-name"},description:{map:"e-description"},listing:{}}},t.maps["h-news"]={root:"hnews",name:"h-news",properties:{entry:{uf:["h-entry"]},geo:{uf:["h-geo"]},latitude:{},longitude:{},"source-org":{uf:["h-card"]},dateline:{uf:["h-card"]},"item-license":{map:"u-item-license"},principles:{map:"u-principles",relAlt:["principles"]}}},t.maps["h-org"]={root:"h-x-org",name:"h-org",childStructure:!0,properties:{"organization-name":{},"organization-unit":{}}},t.maps["h-product"]={root:"hproduct",name:"h-product",properties:{brand:{uf:["h-card"]},category:{map:"p-category",relAlt:["tag"]},price:{},description:{map:"e-description"},fn:{map:"p-name"},photo:{map:"u-photo"},url:{map:"u-url"},review:{uf:["h-review","h-review-aggregate"]},listing:{uf:["h-listing"]},identifier:{map:"u-identifier"}}},t.maps["h-recipe"]={root:"hrecipe",name:"h-recipe",properties:{fn:{map:"p-name"},ingredient:{map:"e-ingredient"},yield:{},instructions:{map:"e-instructions"},duration:{map:"dt-duration"},photo:{map:"u-photo"},summary:{},author:{uf:["h-card"]},published:{map:"dt-published"},nutrition:{},category:{map:"p-category",relAlt:["tag"]}}},t.maps["h-resume"]={root:"hresume",name:"h-resume",properties:{summary:{},contact:{uf:["h-card"]},education:{uf:["h-card","h-event"]},experience:{uf:["h-card","h-event"]},skill:{},affiliation:{uf:["h-card"]}}},t.maps["h-review-aggregate"]={root:"hreview-aggregate",name:"h-review-aggregate",properties:{summary:{map:"p-name"},item:{map:"p-item",uf:["h-item","h-geo","h-adr","h-card","h-event","h-product"]},rating:{},average:{},best:{},worst:{},count:{},votes:{},category:{map:"p-category",relAlt:["tag"]},url:{map:"u-url",relAlt:["self","bookmark"]}}},t.maps["h-review"]={root:"hreview",name:"h-review",properties:{summary:{map:"p-name"},description:{map:"e-description"},item:{map:"p-item",uf:["h-item","h-geo","h-adr","h-card","h-event","h-product"]},reviewer:{uf:["h-card"]},dtreviewer:{map:"dt-reviewer"},rating:{},best:{},worst:{},category:{map:"p-category",relAlt:["tag"]},url:{map:"u-url",relAlt:["self","bookmark"]}}},t.rels={friend:["yes","external"],acquaintance:["yes","external"],contact:["yes","external"],met:["yes","external"],"co-worker":["yes","external"],colleague:["yes","external"],"co-resident":["yes","external"],neighbor:["yes","external"],child:["yes","external"],parent:["yes","external"],sibling:["yes","external"],spouse:["yes","external"],kin:["yes","external"],muse:["yes","external"],crush:["yes","external"],date:["yes","external"],sweetheart:["yes","external"],me:["yes","external"],license:["yes","yes"],nofollow:["no","external"],tag:["no","yes"],self:["no","external"],bookmark:["no","external"],author:["no","external"],home:["no","external"],directory:["no","external"],enclosure:["no","external"],pronunciation:["no","external"],payment:["no","external"],principles:["no","external"]};var e={version:t.version,livingStandard:t.livingStandard};function r(t,e){e&&e.maps&&(Array.isArray(e.maps)?t.add(e.maps):t.add([e.maps]))}return e.get=function(e){var i=new t.Parser;return r(i,e),i.get(e)},e.getParent=function(e,i){var o=new t.Parser;return r(o,i),o.getParent(e,i)},e.count=function(e){var i=new t.Parser;return r(i,e),i.count(e)},e.isMicroformat=function(e,i){var o=new t.Parser;return r(o,i),o.isMicroformat(e,i)},e.hasMicroformats=function(e,i){var o=new t.Parser;return r(o,i),o.hasMicroformats(e,i)},e})?i.apply(e,o):i)||(t.exports=s),function(t){var e,r,i,o,s;if(t){try{i=!!(new t).parseFromString("","text/html")}catch(t){i=!1}if(!i){try{document.implementation.createHTMLDocument("").documentElement.innerHTML="<title></title><div></div>",s=!0}catch(t){s=!1}if(!s)try{o=!!(new t).parseFromString("","text/xml")}catch(t){i=!1}t.prototype&&(s||o)&&(e=t.prototype,r=e.parseFromString,e.parseFromString=function(e,i){var n,a,l;return/^\s*text\/html\s*(?:;|$)/i.test(i)?(s?((a=(n=document.implementation.createHTMLDocument("")).documentElement).innerHTML=e,l=a.firstElementChild):o&&(/^<html.*html>$/i.test(e)||(e="<html>"+e+"</html>"),l=(a=(n=(new t).parseFromString(e,"text/xml")).documentElement).firstElementChild),1===a.childElementCount&&"html"===l.localName.toLowerCase()&&n.replaceChild(l,a),n):r.apply(this,arguments)})}}}(DOMParser)}});